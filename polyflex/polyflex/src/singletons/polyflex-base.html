<link rel="import" href="../../../polymer/polymer.html" />
<script src="../../../extend.js/extend.js"></script>
<script src="../../../bean/bean.min.js"></script>
<script src="../../../nerve/nerve.js"></script>
<script src="../../../page/page.js"></script>
<script src="../../../superagent/lib/client.js"></script>
<script src="../../../gsap/src/minified/TweenMax.min.js"></script>
<script src="../../../gsap/src/minified/plugins/ScrollToPlugin.min.js"></script>
<script src="../_globals/globals.js"></script>

<link rel="import" href="url-router.html" />
<link rel="import" href="ajax-base.html" />
<link rel="import" href="../view-stack.html" />
<link rel="import" href="../ajax-container.html" />
<link rel="import" href="../fx/fx-fade.html" />
<link rel="import" href="../fx/fx-resize.html" />

<dom-module id="polyflex-base">

	<template>
		<url-router 
			base-url$="{{routerRoot}}"
			enable-scroll-to-animation$="{{enableScrollToAnimation}}"
			enable-back-forward-scroll-to-animation$="{{enableBackForwardScrollToAnimation}}"
			back-forward-animation-speed$="{{backForwardAnimationSpeed}}"
			back-forward-animation-delay$="{{backForwardAnimationDelay}}"
			></url-router>
		<ajax-base ajax-base="{{ajaxRoot}}"></ajax-base>
	</template>


	<script>
	(function (window) {
		
		Polymer({
			is: "polyflex-base",
			
			properties: {
				routerRoot: {
					type: String
				},
				ajaxRoot: {
					type: String
				},
				enableScrollToAnimation: {
					type: Boolean,
					value: false,
					reflectToAttribute: true
				},
				scrollToAnimationSpeed: {
					type: Number,
					value: .3
				},
				scrollToAnimationDelay: {
					type: Number,
					value: 0
				},
				enableBackForwardScrollToAnimation: {
					type: Boolean,
					value: false,
					reflectToAttribute: true
				},
				backForwardAnimationSpeed: {
					type: Number,
					value: .3
				},
				backForwardAnimationDelay: {
					type: Number,
					value: 1000
				}
			},
			created: function(){
				window.polyflex.update();
			},
			ready: function () {
			},
			attached: function () {
				console.log("test");
			}
		});
	})(window);
	</script>
</dom-module>